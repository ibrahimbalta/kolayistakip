<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Giriş Yap - Kolay İş Takip</title>
  <meta name="description" content="Kolay İş Takip - Giriş / Kayıt" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#4f46e5',
            purpleDeep: '#2d064e',
            purpleMid: '#6a1a8c',
            cyanAccent: '#06b6d4'
          }
        }
      }
    }
  </script>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

  <!-- AOS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    body {
      font-family: "Inter", sans-serif;
      background: linear-gradient(180deg, #2d064e 0%, #6a1a8c 100%);
      min-height: 100vh;
    }

    .glass {
      background: rgba(255, 255, 255, 0.04);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      position: relative;
      overflow: hidden;
    }

    .glass::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      opacity: 0.02;
      pointer-events: none;
    }

    .btn-cta {
      background: linear-gradient(135deg, #06b6d4, #4f46e5);
      color: #fff;
      transition: all 0.3s ease;
    }

    .btn-cta:hover {
      filter: brightness(1.1);
      box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
    }

    .floating-blob {
      filter: blur(80px);
      opacity: .15;
      z-index: -1;
    }

    html {
      scroll-behavior: smooth;
    }

    /* Premium Navigation Links */
    .nav-link-premium {
      position: relative;
      color: rgba(255, 255, 255, 0.8);
      transition: color 0.3s ease;
    }

    .nav-link-premium::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #06b6d4, #4f46e5);
      transition: width 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .nav-link-premium:hover {
      color: #fff;
    }

    .nav-link-premium:hover::after {
      width: 100%;
    }

    /* Premium CTA Button */
    .btn-cta-premium {
      background: linear-gradient(135deg, #4f46e5, #06b6d4);
      color: #fff;
      transition: all 0.3s ease;
      animation: pulse-glow 3s ease-in-out infinite;
    }

    .btn-cta-premium:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(79, 70, 229, 0.5), 0 0 60px rgba(6, 182, 212, 0.3);
    }

    @keyframes pulse-glow {

      0%,
      100% {
        box-shadow: 0 0 20px rgba(79, 70, 229, 0.3);
      }

      50% {
        box-shadow: 0 0 40px rgba(6, 182, 212, 0.4);
      }
    }

    .card-glow {
      box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
      transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .card-glow:hover {
      box-shadow: 0 20px 50px -12px rgba(79, 70, 229, 0.2);
      border-color: rgba(255, 255, 255, 0.15);
      transform: translateY(-5px);
    }
  </style>
</head>

<body class="text-gray-100 relative overflow-x-hidden">

  <!-- Glow Blobs Background -->
  <div class="fixed top-[-10%] left-[-10%] w-[500px] h-[500px] bg-purpleMid/20 rounded-full floating-blob"></div>
  <div class="fixed bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-primary/10 rounded-full floating-blob"></div>

  <!-- NAV (same link structure) -->
  <header class="sticky top-0 z-50 transition-all duration-300" id="mainHeader">
    <div class="container mx-auto px-6 lg:px-12">
      <div
        class="flex items-center justify-between py-5 backdrop-blur-2xl bg-gradient-to-r from-black/40 via-purpleDeep/30 to-black/40 rounded-2xl border border-white/10 shadow-2xl mt-4 px-6">
        <!-- Logo -->
        <a href="index.html" class="flex items-center gap-3 text-white no-underline group">
          <span
            class="p-2.5 rounded-xl glass card-glow relative overflow-hidden group-hover:scale-110 transition-transform duration-300">
            <i class="fa-solid fa-check-double text-primary text-lg relative z-10"></i>
            <div
              class="absolute inset-0 bg-gradient-to-r from-primary/20 to-cyanAccent/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            </div>
          </span>
          <span class="font-bold text-xl tracking-tight">Kolay İş Takip</span>
        </a>

        <!-- Desktop Navigation -->
        <nav class="hidden lg:flex items-center gap-8 text-sm font-medium">
          <a href="index.html#features" class="nav-link-premium">Özellikler</a>
          <a href="index.html#pricing" class="nav-link-premium">Fiyatlar</a>
          <a href="sektorler.html" class="nav-link-premium">Sektörler</a>
          <a href="about.html" class="nav-link-premium">Hakkımızda</a>
          <a href="career.html" class="nav-link-premium">Kariyer</a>
          <a href="blog.html" class="nav-link-premium">Blog</a>
          <a href="contact.html" class="nav-link-premium">İletişim</a>
        </nav>

        <!-- CTA Buttons -->
        <div class="flex items-center gap-3">
          <a href="login.html"
            class="hidden md:inline-flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium glass border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all duration-300">
            <i class="fa-solid fa-arrow-right-to-bracket text-primary"></i>
            Giriş Yap
          </a>
          <a href="login.html"
            class="btn-cta-premium inline-flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold shadow-2xl relative overflow-hidden group">
            <span class="relative z-10">Ücretsiz Deneme</span>
            <i class="fa-solid fa-sparkles relative z-10 group-hover:rotate-12 transition-transform duration-300"></i>
            <div
              class="absolute inset-0 bg-gradient-to-r from-cyanAccent to-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            </div>
          </a>

          <!-- Mobile Menu Button -->
          <button id="mobileBtn"
            class="lg:hidden p-2.5 rounded-xl glass border border-white/10 hover:border-white/20 transition-all">
            <i class="fa-solid fa-bars text-lg"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="lg:hidden px-6 pb-6 hidden">
      <div class="backdrop-blur-2xl bg-black/40 rounded-2xl border border-white/10 mt-2 p-4 flex flex-col gap-2">
        <a href="index.html#features" class="block py-3 px-4 rounded-xl hover:bg-white/5 transition-all">Özellikler</a>
        <a href="index.html#pricing" class="block py-3 px-4 rounded-xl hover:bg-white/5 transition-all">Fiyatlar</a>
        <a href="sektorler.html" class="block py-3 px-4 rounded-xl hover:bg-white/5 transition-all">Sektörler</a>
        <a href="about.html" class="block py-3 px-4 rounded-xl hover:bg-white/5 transition-all">Hakkımızda</a>
        <a href="contact.html" class="block py-3 px-4 rounded-xl hover:bg-white/5 transition-all">İletişim</a>
        <a href="blog.html" class="block py-3 px-4 rounded-xl hover:bg-white/5 transition-all">Blog</a>
        <div class="h-px bg-white/10 my-2"></div>
        <a href="login.html" class="block py-3 px-4 rounded-xl bg-white/5 font-medium text-center">Giriş Yap</a>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="min-h-[calc(100vh-72px)] flex items-center">
    <div class="max-w-7xl mx-auto w-full px-6 lg:px-12 py-12 grid grid-cols-1 lg:grid-cols-12 gap-8 items-center">

      <!-- LEFT: Visual / Illustration -->
      <div class="lg:col-span-7 relative order-2 lg:order-1" data-aos="fade-right">
        <!-- Floating blobs -->
        <div
          class="absolute -left-20 -top-20 w-72 h-72 bg-gradient-to-r from-purple-700 to-indigo-600 rounded-full floating-blob">
        </div>
        <div
          class="absolute -right-20 bottom-10 w-80 h-80 bg-gradient-to-r from-cyan-500 to-indigo-500 rounded-full floating-blob">
        </div>

        <!-- Illustration card -->
        <div class="h-full flex items-center">
          <div class="w-full rounded-3xl overflow-hidden shadow-2xl bg-gradient-to-b from-white/5 to-white/3 glass p-8">
            <!-- Use an illustrative hero image (unsplash) -->
            <div class="flex flex-col lg:flex-row gap-6 items-center">
              <div class="flex-1">
                <img src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=1200"
                  alt="team collaboration" class="rounded-xl w-full h-64 object-cover shadow-md" />
              </div>
              <div class="flex-1">
                <h2 class="text-2xl font-bold mb-3">Kolay İş Takip ile işlerinizi kolaylaştırın</h2>
                <p class="text-gray-300 mb-4">Görev yönetimi, çalışan takibi, randevu planlama ve teklif yönetimi gibi
                  tüm ihtiyaçlarınızı tek bir platformda toplayın.</p>
                <ul class="space-y-2 text-sm text-gray-300">
                  <li class="flex items-center gap-2"><i class="fa-solid fa-check text-cyanAccent"></i> 7 gün ücretsiz
                    deneme</li>
                  <li class="flex items-center gap-2"><i class="fa-solid fa-check text-cyanAccent"></i> WhatsApp
                    entegrasyonu</li>
                  <li class="flex items-center gap-2"><i class="fa-solid fa-check text-cyanAccent"></i> Supabase tabanlı
                    güvenli altyapı</li>
                </ul>
                <div class="mt-6">
                  <a href="about.html"
                    class="inline-flex items-center gap-2 px-4 py-2 rounded-xl btn-cta">Hakkımızda</a>
                  <a href="contact.html"
                    class="ml-3 inline-flex items-center gap-2 px-4 py-2 rounded-xl glass">İletişim</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Auth card -->
      <div class="lg:col-span-5 order-1 lg:order-2" data-aos="fade-left">
        <div class="p-8 rounded-3xl glass border border-white/10 shadow-xl">
          <div class="flex items-center justify-between mb-6">
            <div>
              <h3 class="text-2xl font-bold">Hesabınıza Giriş Yapın</h3>
              <p class="text-sm text-gray-300">Mevcut hesabınıza giriş yapın veya yeni hesap oluşturun.</p>
            </div>
            <div class="hidden sm:flex items-center gap-3 text-sm text-gray-300">
              <div class="text-center">
                <div class="font-semibold">7</div>
                <div class="text-xs">Gün Deneme</div>
              </div>
              <div class="text-center">
                <div class="font-semibold">%99</div>
                <div class="text-xs">Uptime</div>
              </div>
            </div>
          </div>

          <!-- Tabs -->
          <div class="mb-6 bg-white/3 p-1 rounded-xl flex items-center gap-1">
            <button id="tabLoginBtn" class="flex-1 py-2 rounded-lg bg-white/6 text-sm font-medium">Giriş Yap</button>
            <button id="tabRegisterBtn" class="flex-1 py-2 rounded-lg text-sm font-medium">Kayıt Ol</button>
          </div>

          <!-- Login Form -->
          <form id="loginForm" class="space-y-4" novalidate>
            <div>
              <label class="text-sm text-gray-300">Kullanıcı Adı veya E-posta</label>
              <input id="loginUser" type="text" required placeholder="Kullanıcı adınız veya e-posta"
                class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none" />
            </div>

            <div>
              <label class="text-sm text-gray-300">Şifre</label>
              <input id="loginPass" type="password" required placeholder="******"
                class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none" />
            </div>

            <div class="flex items-center justify-between">
              <a href="#" id="forgotLink" class="text-sm text-cyanAccent hover:underline">Şifremi Unuttum</a>
              <button type="submit" class="inline-flex items-center gap-3 px-4 py-2 rounded-2xl btn-cta font-semibold">
                <i class="fa-solid fa-right-to-bracket"></i> Giriş Yap
              </button>
            </div>
          </form>

          <!-- Register Form -->
          <form id="registerForm" class="space-y-4 hidden" novalidate>
            <div>
              <label class="text-sm text-gray-300">Firma Adı</label>
              <input id="regCompany" type="text" required placeholder="Örn: Yılmaz İnşaat"
                class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none" />
            </div>
            <div>
              <label class="text-sm text-gray-300">Kullanıcı Adı</label>
              <input id="regUser" type="text" required placeholder="Kullanıcı adınız"
                class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none" />
            </div>
            <div>
              <label class="text-sm text-gray-300">E-posta Adresi</label>
              <input id="regEmail" type="email" required placeholder="ornek@firma.com"
                class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none" />
            </div>
            <div>
              <label class="text-sm text-gray-300">Şifre</label>
              <input id="regPass" type="password" required placeholder="Güçlü bir şifre seçin"
                class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none"
                oninput="checkPasswordStrength(this.value)" />
              <div id="passwordStrength" class="mt-2 hidden">
                <div class="flex gap-1 mb-1">
                  <div id="str1" class="h-1 flex-1 rounded bg-white/10"></div>
                  <div id="str2" class="h-1 flex-1 rounded bg-white/10"></div>
                  <div id="str3" class="h-1 flex-1 rounded bg-white/10"></div>
                  <div id="str4" class="h-1 flex-1 rounded bg-white/10"></div>
                </div>
                <p id="passwordHint" class="text-xs text-gray-400"></p>
              </div>
            </div>

            <div class="info-box p-3 rounded-lg bg-white/6 text-sm text-gray-300">
              <i class="fa-solid fa-gift"></i> 7 Gün Ücretsiz Deneme Başlayacak
            </div>

            <div class="flex items-center justify-end">
              <button type="submit"
                class="inline-flex items-center gap-3 px-4 py-2 rounded-2xl btn-cta font-semibold">Kayıt Ol ve
                Başla</button>
            </div>
          </form>

          <!-- Forgot Password Modal (inline collapsible) -->
          <div id="forgotPasswordModal" class="hidden mt-6 p-4 rounded-lg bg-white/6">
            <h4 class="font-semibold mb-2">Şifre Sıfırlama</h4>
            <p class="text-sm text-gray-300 mb-3">E-posta adresinizi girin, size şifre sıfırlama bağlantısı gönderelim.
            </p>
            <form id="forgotPasswordForm" class="space-y-3" novalidate>
              <div>
                <label class="text-sm text-gray-300">E-posta Adresi</label>
                <input id="resetEmail" type="email" required placeholder="kayitli@eposta.com"
                  class="mt-2 w-full px-4 py-3 rounded-lg bg-white/5 border border-white/6 focus:outline-none" />
              </div>
              <div class="flex items-center gap-2">
                <button type="button" id="cancelForgot"
                  class="flex-1 px-3 py-2 rounded-lg border border-white/6">İptal</button>
                <button type="submit" class="flex-1 px-3 py-2 rounded-lg btn-cta">Bağlantı Gönder</button>
              </div>
            </form>
          </div>

          <div class="mt-6 text-center text-sm text-gray-400">
            <a href="index.html" class="hover:underline"><i class="fa-solid fa-arrow-left mr-2"></i> Ana Sayfaya Dön</a>
          </div>
        </div>

        <!-- small footer note card -->
        <div class="mt-6 text-center text-sm text-gray-400">
          <div class="inline-block px-4 py-3 rounded-lg glass">Hesabınızı mı yönetmek istiyorsunuz? <a
              href="contact.html" class="text-cyanAccent hover:underline">Destek</a></div>
        </div>
      </div>

    </div>
  </main>

  <!-- MODERN FOOTER -->
  <footer class="py-12 relative overflow-hidden">
    <div class="absolute inset-0 bg-black/20 backdrop-blur-md border-t border-white/5"></div>
    <div class="max-w-7xl mx-auto px-6 lg:px-12 relative z-10">
      <div class="flex flex-col md:flex-row justify-between items-center gap-8">
        <!-- Brand -->
        <div class="flex items-center gap-3 opacity-60 hover:opacity-100 transition-opacity">
          <span class="p-2 rounded-lg glass">
            <i class="fa-solid fa-check-double text-primary text-sm"></i>
          </span>
          <span class="font-bold text-lg tracking-tight text-white">Kolay İş Takip</span>
        </div>

        <!-- Links -->
        <div class="flex flex-wrap justify-center gap-6 text-sm">
          <a href="kullanim-sartlari.html" class="text-gray-400 hover:text-white transition-colors">Kullanım
            Şartları</a>
          <a href="gizlilik-politikasi.html" class="text-gray-400 hover:text-white transition-colors">Gizlilik
            Politikası</a>
          <a href="kvkk.html" class="text-gray-400 hover:text-white transition-colors">KVKK</a>
        </div>

        <!-- Copyright -->
        <div class="text-gray-500 text-sm font-medium">
          &copy; 2024 <span class="text-white/80">Kolay İş Takip</span>. Tüm hakları saklıdır.
        </div>
      </div>
    </div>
  </footer>

  <!-- Supabase + Auth -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase-config.js"></script>
  <script src="auth.js"></script>

  <!-- Init AOS & GSAP -->
  <script>
    AOS.init({ once: true, duration: 700 });
    gsap.registerPlugin(ScrollTrigger);
    gsap.from('.glass', { y: 10, opacity: 0, duration: 0.6, stagger: 0.05 });

    // Mobile menu toggle
    const mobileBtn = document.getElementById('mobileBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    mobileBtn && mobileBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

    // Password strength checker with visual feedback
    function checkPasswordStrength(password) {
      const strengthContainer = document.getElementById('passwordStrength');
      const hint = document.getElementById('passwordHint');
      const bars = [
        document.getElementById('str1'),
        document.getElementById('str2'),
        document.getElementById('str3'),
        document.getElementById('str4')
      ];

      if (!password) {
        strengthContainer.classList.add('hidden');
        return;
      }
      strengthContainer.classList.remove('hidden');

      let score = 0;
      const checks = {
        length: password.length >= 8,
        upper: /[A-Z]/.test(password),
        lower: /[a-z]/.test(password),
        number: /[0-9]/.test(password),
        special: /[!@#$%^&*(),.?":{}|<>]/.test(password)
      };

      if (checks.length) score++;
      if (checks.upper && checks.lower) score++;
      if (checks.number) score++;
      if (checks.special) score++;

      // Reset bars
      bars.forEach(bar => {
        bar.style.background = 'rgba(255,255,255,0.1)';
      });

      // Color and hint based on score
      const colors = ['#ef4444', '#f97316', '#facc15', '#22c55e'];
      const hints = [
        'Çok zayıf - Daha uzun ve karmaşık olmalı',
        'Zayıf - Büyük/küçük harf ve rakam ekleyin',
        'Orta - Özel karakter ekleyin (!@#$%)',
        'Güçlü - Harika şifre!'
      ];

      for (let i = 0; i < score; i++) {
        bars[i].style.background = colors[score - 1];
      }
      hint.textContent = hints[score - 1] || '';
      hint.style.color = colors[score - 1];
    }
  </script>

  <!-- Preserve original behavior but adapt to new UI -->
  <script>
    // Tab buttons
    const tabLoginBtn = document.getElementById('tabLoginBtn');
    const tabRegisterBtn = document.getElementById('tabRegisterBtn');
    const loginFormEl = document.getElementById('loginForm');
    const registerFormEl = document.getElementById('registerForm');
    const forgotModalEl = document.getElementById('forgotPasswordModal');
    const forgotLink = document.getElementById('forgotLink');
    const cancelForgot = document.getElementById('cancelForgot');

    function showLoginTab() {
      tabLoginBtn.classList.add('bg-white/6');
      tabRegisterBtn.classList.remove('bg-white/6');
      loginFormEl.classList.remove('hidden');
      registerFormEl.classList.add('hidden');
      forgotModalEl.classList.add('hidden');
    }

    function showRegisterTab() {
      tabRegisterBtn.classList.add('bg-white/6');
      tabLoginBtn.classList.remove('bg-white/6');
      registerFormEl.classList.remove('hidden');
      loginFormEl.classList.add('hidden');
      forgotModalEl.classList.add('hidden');
    }

    tabLoginBtn.addEventListener('click', showLoginTab);
    tabRegisterBtn.addEventListener('click', showRegisterTab);

    forgotLink.addEventListener('click', (e) => {
      e.preventDefault();
      forgotModalEl.classList.toggle('hidden');
      loginFormEl.classList.toggle('hidden');
    });

    cancelForgot.addEventListener('click', () => {
      forgotModalEl.classList.add('hidden');
      loginFormEl.classList.remove('hidden');
    });

    // Keep the original form handlers (they rely on auth.js, supabase-config.js)
    // Login Form submit handler (already in old file) — rebind to ensure it works
    document.getElementById('loginForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const user = document.getElementById('loginUser').value;
      const pass = document.getElementById('loginPass').value;

      // Use Auth from auth.js (kept unchanged)
      if (typeof Auth !== 'undefined') {
        const result = await Auth.login(user, pass);
        if (result && result.success) {
          const params = new URLSearchParams(window.location.search);
          const redirect = params.get('redirect');
          window.location.href = redirect ? decodeURIComponent(redirect) : 'dashboard.html';
        } else {
          alert('❌ ' + (result?.message || 'Giriş başarısız.'));
        }
      } else {
        alert('Auth modülü yüklenemedi.');
      }
    });

    document.getElementById('registerForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const company = document.getElementById('regCompany').value;
      const user = document.getElementById('regUser').value;
      const email = document.getElementById('regEmail').value;
      const pass = document.getElementById('regPass').value;

      // Password strength quick check
      const minLength = 8;
      const hasUpperCase = /[A-Z]/.test(pass);
      const hasLowerCase = /[a-z]/.test(pass);
      const hasNumber = /[0-9]/.test(pass);
      const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(pass);

      if (pass.length < minLength || !hasUpperCase || !hasLowerCase || !hasNumber || !hasSpecialChar) {
        alert('⚠️ Şifreniz yeterince güçlü değil!\n\nŞifreniz şunları içermelidir:\n• En az 8 karakter\n• Büyük harf (A-Z)\n• Küçük harf (a-z)\n• Rakam (0-9)\n• Özel karakter (!@#$%^&*)');
        return;
      }

      if (typeof Auth !== 'undefined') {
        const result = await Auth.register(user, pass, company, email);
        if (result && result.success) {
          alert('✅ 7 günlük deneme süreniz başladı!');
          // auto login
          const loginResult = await Auth.login(user, pass);
          if (loginResult && loginResult.success) {
            const params = new URLSearchParams(window.location.search);
            const redirect = params.get('redirect');
            window.location.href = redirect ? decodeURIComponent(redirect) : 'dashboard.html';
          } else {
            window.location.href = 'login.html';
          }
        } else {
          alert('❌ ' + (result?.message || 'Kayıt başarısız.'));
        }
      } else {
        alert('Auth modülü yüklenemedi.');
      }
    });

    document.getElementById('forgotPasswordForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('resetEmail').value;
      if (typeof Auth !== 'undefined') {
        const result = await Auth.resetPassword(email);
        if (result && result.success) {
          alert('✅ ' + result.message);
          forgotModalEl.classList.add('hidden');
          loginFormEl.classList.remove('hidden');
        } else {
          alert('❌ ' + (result?.message || 'Hata oluştu.'));
        }
      } else {
        alert('Auth modülü yüklenemedi.');
      }
    });
  </script>
</body>

</html>